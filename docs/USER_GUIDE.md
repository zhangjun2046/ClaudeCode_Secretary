# ClaudeCode_Secretary 使用指南

欢迎使用 ClaudeCode_Secretary！本指南将帮助你快速上手三个AI助理：新闻张、教练张和反思张。

## 快速开始

### 前置准备

1. **完成MCP配置**：参考 `docs/MCP_SETUP.md` 配置必需的MCP服务器
2. **填写个人档案**：编辑 `context/about_me.md` 文件，填入你的个人信息和目标
3. **配置API密钥**（可选）：复制 `.env.example` 为 `.env` 并填入API密钥

### 首次使用

打开 Claude Code，项目会自动加载配置。你可以通过输入特定触发词来激活不同的 Agent。

---

## Agent 使用说明

### 1. 新闻张 - 晨间新闻助理

**触发方式**: 输入 `/早上好`

**功能**:
- 搜集AI、金融、股市三个领域的最新新闻
- 生成个性化新闻简报
- （可选）推送到飞书

**使用示例**:

```
你: /早上好

新闻张: 早上好！正在为你搜集今日新闻...

[搜索并生成新闻简报]

新闻张: 今日新闻简报已生成！文件保存在 daily_records/2025-10-17/今日新闻.md

主要看点：
• AI领域：Claude发布新功能...
• 金融市场：美联储维持利率不变...
• 股市动态：腾讯Q3财报超预期...
```

**生成文件**: `daily_records/YYYY-MM-DD/今日新闻.md`

**个性化配置**:
- 编辑 `context/about_me.md` 中的"新闻关注领域"
- 调整 `config/agent_config.json` 中的搜索关键词

---

### 2. 教练张 - 健康教练

**触发方式**: 输入 `/自律`

**功能**:
- 追踪体重变化
- 提供个性化运动建议
- 推荐健康饮食和外卖
- 给予激励和支持

**使用示例**:

```
你: /自律

教练张: 今天多少斤？

你: 78.5

教练张: 太棒了！较昨日下降了0.3kg ⬇️

正在为你生成今日健康计划...

[分析趋势并生成计划]

教练张: 健康计划已生成！文件保存在 daily_records/2025-10-17/健康.md

今日建议：
• 运动：划船机30分钟 + 晚间散步40分钟
• 饮食：轻食套餐，预计热量1450 kcal
• 预测：按当前速度，11月底可达成目标！

加油，俊哥！💪
```

**生成文件**:
- `daily_records/YYYY-MM-DD/健康.md`
- 更新 `context/about_me.md` 中的体重记录

**个性化配置**:
- 编辑 `context/about_me.md` 中的"健康与健身目标"
- 填写运动偏好、饮食偏好等信息

---

### 3. 反思张 - 工作反思伙伴

**触发方式**: 输入 `/今工作结束了`

**功能**:
- 引导式多轮对话
- 深度挖掘工作体验
- 识别情绪和模式
- 生成反思文档

**使用示例**:

```
你: /今工作结束了

反思张: 辛苦了，今天的工作告一段落了。我们来聊聊今天吧？

今天主要做了什么工作？

你: 主要在开发ClaudeCode_Secretary项目，完成了Agent提示词设计

反思张: 能具体说说Agent提示词设计的过程吗？

你: 花了很多时间思考每个Agent的个性和对话流程...

[继续3-5轮对话]

反思张: 感谢你的分享。我已经为你生成了今日反思文档，
文件保存在 daily_records/2025-10-17/反思.md

从今天的对话中，我观察到：
• 你在上午的创造力和专注度特别高
• 被消息打断是影响效率的主要因素
• 你开始接受"先跑起来，再优化"的迭代思路

这些洞察已更新到 context/insights.md，供未来参考。

好好休息，明天见！
```

**生成文件**:
- `daily_records/YYYY-MM-DD/反思.md`
- 更新 `context/insights.md`

**对话技巧**:
- 真诚表达，不要只是汇报工作
- 深入分享感受和思考
- 如果某个问题不想深聊，可以说"跳过"或"简单说"

---

## 文件结构说明

```
daily_records/
├── 2025-10-17/
│   ├── 今日新闻.md      # 新闻张生成
│   ├── 健康.md          # 教练张生成
│   └── 反思.md          # 反思张生成
├── 2025-10-18/
│   └── ...
```

每天的记录会自动保存在对应日期的文件夹中，方便回顾。

---

## 高级功能

### 飞书通知

如需启用飞书推送通知：

1. 编辑 `config/feishu_config.json`
2. 将 `enabled` 改为 `true`
3. 填入飞书机器人的 Webhook URL 或应用凭证
4. 配置通知偏好（哪些Agent需要推送）

详细配置方法参考 `docs/FEISHU_SETUP.md`

### 自定义Agent行为

编辑 `config/agent_config.json` 可以调整：
- 搜索关键词和优先级
- 运动和饮食建议逻辑
- 反思对话的问题模板
- 输出格式和文件路径

### 查看历史记录

所有历史记录保存在 `daily_records/` 文件夹中，你可以：
- 浏览过往的新闻简报
- 追踪体重变化趋势
- 回顾工作反思，发现成长模式

推荐使用 Obsidian 或 VS Code 打开整个项目文件夹，获得更好的阅读体验。

---

## 常见问题

### Q1: Agent没有响应怎么办？

**检查清单**:
- [ ] MCP服务器是否正确配置？（参考 `docs/MCP_SETUP.md`）
- [ ] Claude Desktop是否已重启？
- [ ] 触发命令是否正确？（`/早上好`, `/自律`, `/今工作结束了`）
- [ ] 检查 Claude Desktop 日志是否有错误

### Q2: 新闻搜索失败

**可能原因**:
- 网络连接问题
- Brave Search API 配额用完
- MCP Fetch 服务器未加载

**解决方法**:
- 检查网络连接
- 查看 API 使用量
- 尝试使用 Claude 内置的 WebSearch 功能

### Q3: 体重记录没有更新

**检查**:
- `context/about_me.md` 文件是否有写入权限
- MCP Filesystem 是否配置正确
- 手动检查文件是否被更新

### Q4: 飞书通知收不到

**检查**:
- `config/feishu_config.json` 中 `enabled` 是否为 `true`
- Webhook URL 是否正确且有效
- 飞书机器人是否被禁用
- 检查发送时间设置

### Q5: 反思对话太浅怎么办？

**建议**:
- 尽量详细地回答问题，不要只说"还行"、"挺好"
- 分享具体的事件和感受
- 如果反思张的问题不够深入，可以主动补充："我还想聊聊..."
- 编辑 `agents/reflection_agent_prompt.md` 调整对话策略

---

## 最佳实践

### 建立日常习惯

**晨间流程（7:00-7:30）**:
1. 打开 Claude Code
2. 输入 `/早上好` 获取新闻简报
3. 输入 `/自律` 记录体重，获取健康计划
4. 根据建议安排今日运动和饮食

**晚间流程（21:00-21:30）**:
1. 输入 `/今工作结束了` 进行工作反思
2. 完成3-5轮深度对话
3. 回顾生成的反思文档
4. 为明天做准备

### 定期回顾

**每周回顾**:
- 查看本周的体重变化趋势
- 浏览工作反思，总结本周模式
- 调整下周的目标和计划

**每月回顾**:
- 统计体重变化，评估健康目标进度
- 从 `context/insights.md` 中提取长期洞察
- 回顾重要新闻，了解行业趋势

### 数据隐私

- 所有数据本地存储，不上传云端
- `.gitignore` 已排除个人数据文件
- 如需备份，手动复制 `context/` 和 `daily_records/` 文件夹
- 定期清理过期的每日记录（建议保留3-6个月）

---

## 贡献与反馈

这是你的个人助理系统，可以根据需求自由定制：

- 修改 Agent 提示词（`agents/` 文件夹）
- 调整配置参数（`config/` 文件夹）
- 自定义模板（`templates/` 文件夹）
- 添加新的 MCP 工具

如有问题或建议，可以在项目中创建 `feedback.md` 记录。

---

## 下一步

开始使用吧！

1. ☕ 明早输入 `/早上好`，获取第一份新闻简报
2. 💪 输入 `/自律`，开始健康追踪之旅
3. 🌙 今晚输入 `/今工作结束了`，进行第一次深度反思

祝你使用愉快！

---

**最后更新**: 2025-10-17
**版本**: 1.0.0
